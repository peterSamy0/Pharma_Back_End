"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[55918,78369],{243600:(e,t,i)=>{i.d(t,{Z:()=>n});let n='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},874261:(e,t,i)=>{i.d(t,{Z:()=>s}),i(441143);var n=i(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function s(e){let{css:t,unsafeCSS:i,...s}=e,o=String(t||"")||i||"",l=!!o;return l?(0,n.jsx)("style",{...s,dangerouslySetInnerHTML:{__html:String(r.factory(o))}}):null}},468e3:(e,t,i)=>{function n(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>r,y:()=>n})},463310:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(965533),r=i(98736),s=i(799665);let o=(e,t)=>{null!=t&&t.disableOriginCheck||(0,s.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,n.Z)(e)}},519677:(e,t,i)=>{i.d(t,{Z:()=>n});let n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,t,i)=>{function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});class r{static reportGoogleConversion(e,t,i,n){if(!n){if(void 0===window.gtag_report_conversion){r.queuedGoogleConversions.push({id:e,label:t,url:i});return}window.gtag_report_conversion(e,t,i)}}static reportFacebookConversion(e,t,i){if(void 0===window.fbq){r.queuedFacebookConversions.push({id:e,event:t,data:i});return}i?window.fbq("track",t,i):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,i){if(void 0===window.fbq){r.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:i});return}i?window.fbq("trackCustom",t,i):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,i){if(void 0===window.pintrk){r.queuedPinterestConversions.push({id:e,event:t,data:i});return}i?window.pintrk("track",t,i):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let i=document.createElement("img");i.setAttribute("height","1"),i.setAttribute("width","1"),i.setAttribute("role","presentation"),i.style.borderStyle="none",i.style.position="absolute",i.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(i,document.body.lastChild)}static reportLinkedInConversion(e,t){let i=document.createElement("img");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("role","presentation"),i.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static reportDoubleClickConversion(e,t,i){let n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${i};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${1e13*Math.random()}?`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let i=document.createElement("script");t||(i.setAttribute("async",""),i.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),i.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,i){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,i){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==i&&window.location.assign(i)}}),!1};let i=r.queuedGoogleConversions;for(let n=0;n<i.length;n+=1){let s=i[n];s.id===e&&r.reportGoogleConversion(s.id,s.label,s.url,t)}}),document.body.insertBefore(i,document.body.firstChild)}static insertFacebookPixelTag(e){var t,i,n,s,o,l;t=window,i=document,n="script",t.fbq||(s=t.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},t._fbq||(t._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(o=i.createElement(n)).async=!0,o.src="//connect.facebook.net/en_US/fbevents.js",(l=i.getElementsByTagName(n)[0]).parentNode.insertBefore(o,l)),window.fbq("init",e),window.fbq("track","PageView");let a=r.queuedFacebookConversions;for(let t=0;t<a.length;t+=1){let i=a[t];i.id===e&&(i.isCustomEvent?r.reportCustomFacebookConversion(e,i.event,i.data):r.reportFacebookConversion(e,i.event,i.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let i=document.createElement("script");i.async=!0,i.src=e;let n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=r.queuedPinterestConversions;for(let i=0;i<t.length;i+=1){let n=t[i];n.id===e&&r.reportPinterestConversion(e,n.event,n.data)}}}n(r,"queuedGoogleConversions",[]),n(r,"queuedFacebookConversions",[]),n(r,"queuedPinterestConversions",[]);let s=r},777610:(e,t,i)=>{i.d(t,{Q:()=>c,Z:()=>d});var n=i(667294),r=i(682492),s=i.n(r),o=i(563962),l=i(788241),a=i(282802);function c(e,t){let{setViewContextData:i}=(0,l.sV)(),{requestIdentifier:r}=(0,a.B)(),c=(0,o.Z)(),{viewData:d}=(0,l.SU)();(0,n.useEffect)(()=>{if(e){var t;i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?s()(d,e.view_data):s()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:r})}},[t])}function d(e){let{children:t,log:i}=e;return c(i),t||null}},758360:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(973935);function s(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.Component{constructor(...e){super(...e),s(this,"observer",null),s(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let l=o},583462:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(536042),s=i(785893);function o(){let e=(0,r.ZP)();return(0,s.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(n.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},583121:(e,t,i)=>{i.d(t,{Bx:()=>r,N4:()=>o,is:()=>l,lt:()=>n,oM:()=>s});let n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),l=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},759495:(e,t,i)=>{i.d(t,{Z:()=>S});var n=i(667294),r=i(690108),s=i(388011),o=i(457628),l=i(791045),a=i(231652),c=i(669894),d=i(31368),u=i(315219),p=i(814247),h=i(440534),_=i(950861),g=i(617285),m=i(499441),x=i(785629),f=i(626389),v=i(860438),y=i(98736),b=i(284814),w=i(890415),j=i(619277);function S(){let e=(0,p.hq)(),t=(0,g.Z)(),{logContextEvent:i}=(0,s.v)(),S=(0,b.Z)();return(0,n.useCallback)(({creds:n,isAccountSwitch:s,loggingOptions:{loggingData:p=Object.freeze({}),loginAttemptContextEvent:g},recaptchaV2Token:b,recaptchaV3Token:I})=>{t();let P=!!(n.facebook_autologin||n.autologin),T=(0,_.eD)(n),C=e=>{let t=n.google_open_id_token?"google":"facebook";P&&(0,y.dy)({event:e,provider:t})},E=e=>{P||(0,y.EX)({event:e,provider:(0,_.nY)(n)})},D=e=>{var t;i({...g,event_type:e,aux_data:{...g.aux_data,upsell_reason:(null===(t=g.aux_data)||void 0===t?void 0:t.upsell_reason)||(P?"autologin":v.Z.getItem(j.bg)||null),upsell_view_count:v.Z.getItem(j.w0)||0}})};D(7534),S({action:P?"autologin":"login",event:"attempt",trigger:p.trigger,type:T});let A=e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let i=p===Object(p)?p.container:"container_unknown";(0,y.My)("login.referrer."+t+"."+T),(0,y.My)("login.container."+String(i)+"."+T),(0,y.My)("login.type."+T);let r=T||"method_unknown",s=p.page||"page_unknown";n.facebook_autologin?((0,y.My)("web_autologin_facebook"),(0,y.My)("new_web_autologin_facebook",{page:s,referrer:t,container:i})):((0,y.My)(`web_login.${r}.success.${s}.${String(i)}.${t}.tier1`),(0,y.My)(`new_web_login.${r}.success`,{page:s,referrer:t,container:i})),(0,m.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),D(7536),S({action:P?"autologin":"login",event:"success",trigger:p&&p.trigger,type:T})},k=({error:e,isCrossDomain:t})=>{if(!e)return;let i=e.http_status===x.Ej?x.Ej:e.api_error_code,n=i;i&&u.qF.has(i)&&(n=u.qF.get(i));let{container:r,trigger:s}=p;(0,y.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(n)}.${r||"unknow_container"}.${T}`),D(7535),S({action:P?"autologin":"login",event:"fail",trigger:s,type:T})};if(n.username_or_email&&!n.mfa_resend&&e&&-1!==h.Z.indexOf(e.origin)){let t=e=>(0,y.My)(`web_cross_domain_login.${e}.${(0,_.eD)(n)}`);t("attempt");let{referrer:i,facebookToken:r,unauthId:s}=e;return(0,a.pH)(n,{recaptchaV3Token:I,referrer:i,facebookToken:r,unauthId:s}).then(e=>{let i=e&&e.data;if(i)return t("success_with_token"),(0,a.kv)(i).then(e=>(t("success_token_exchanged"),A(),Promise.resolve()),e=>{throw t("success_token_not_exchanged"),e});throw t("success_without_token"),Error()},e=>{throw t("failure"),k({error:e,isCrossDomain:!0}),e})}C("login_api_call_start"),E("login_api_call_start");let L=(0,w.OJ)(),Z=r.Z.create("UserSessionResource",{...n,...L?{referrer:L}:Object.freeze({}),get_user:n.get_user||n.switch_account&&s,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,w.t_)()||null,recaptchaV2Token:b,recaptchaV3Token:I});return Z.callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:i,country_from_ip:n,region_from_ip:r}=(null==e?void 0:e.client_context)||Object.freeze({});return A({country:t,countryFromHostName:i,countryFromIp:n,regionFromIp:r}),C("login_api_call_success"),E("login_api_call_success"),(0,c.B)(!1),(0,d.Z)(),o.zN(l.e7.name),o.zN(l.x3.name),(0,f.D)("login").then(()=>e)},e=>(k({error:e,isCrossDomain:!1}),C("login_api_call_failure"),E("login_api_call_failure"),Promise.reject(e)))},[e,t,i,S])}},669894:(e,t,i)=>{i.d(t,{B:()=>o,a:()=>s});var n=i(860438),r=i(619277);let s=()=>!!n.Z.getItem(r.WM),o=e=>{n.Z.setItem(r.WM,!!e)}},33476:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(702664),s=i(563962),o=i(527386),l=i(216702),a=i(785893);function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{hasCompleted:[],hasDismissed:[]}),c(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))}),c(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:r,preventRemoval:s,targeting:o}=this.props,l=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){let{placement_id:e,experience_id:a}=n||{},c=s||2===l;(1===l||c)&&e&&a&&(r?i(n,c):o?t(e,a,c,o):t(e,a,c),this.setState(e=>({hasCompleted:[...e.hasCompleted,a]})))}}),c(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:r,targeting:s}=this.props,{placement_id:o,experience_id:l}=i||{};i&&!this.state.hasDismissed.includes(l)&&(n?t(i):s?e(o,l,!!r,s):e(o,l,!!r),this.setState(e=>({hasDismissed:[...e.hasDismissed,l]})))}),c(this,"shouldRenderExperience",()=>{let{experience:e}=this.props;if(e){let{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:r}=this.props,{experience_id:s,type:o}=e;if(t&&t.includes(s)||!(null!=t&&t.length)&&(n&&n(e)||i&&i.includes(o)||r&&r===o))return!0}return!1})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}function u(e){let t=(0,r.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,r.useDispatch)(),n=(0,o.be)(),c=(0,o.Am)(),u=(0,o.Ig)(),p=(0,s.Z)();return(0,a.jsx)(d,{...e,experience:t,completeExperience:(e,t,r,s)=>i(n(e,t,r,!1,{},s)),completeExperienceObject:(e,t)=>i((0,l.Tl)(p)(e,t)),dismissExperience:(e,t,n,r)=>i(c(e,t,n,void 0,r)),dismissExperienceObject:e=>i((0,l.CF)(e)),viewExperience:(e,t,n)=>i(u(e,t,!1,!1,void 0,n)),viewExperienceObject:e=>i((0,l.dy)(p)(e))})}c(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},297776:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var n=i(667294),r=i(883119),s=i(33476),o=i(785893);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:i,idealDirection:n}=this.props,s=i.slice(-3);return(0,o.jsx)(r.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,o.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,o.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,o.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,o.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:s.map(e=>(0,o.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,o.jsx)(r.zd,{rounding:2,height:60,children:(0,o.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var c=i(133149);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,n.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,i){return(t&&e.text.replace("{boardName}",t),i)?i(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:_,noClickToDismiss:g,onClickComplete:m,onClickDismiss:x,placementId:f,positionRelativeToAnchor:v,shouldTimeoutDismiss:y,showCaret:b,textAlign:w,textOverflow:j,textOverrideFn:S,textWeight:I,customizedComplete:P,pulsarZIndex:T,advertiserId:C,dismissButtonLocation:E,dismissButtonColor:D,dismissButtonMarginTop:A}=this.props,k=t||(({children:e})=>_?(0,o.jsx)(r.mh,{children:e}):e);return(0,o.jsx)(s.Z,{eligibleIds:i,placementId:f,eligibleTypes:[8],targeting:C?{advertiserId:parseInt(C,10)}:null,children:({complete:t,dismiss:i,experience:s})=>{let{display_data:{scroll_to_dismiss:f,scroll_to_dismiss_delay_in_seconds:C=0,...L}}=s,Z=f&&e,R=()=>{z(),setTimeout(i,1e3*C)},z=()=>{Z&&(window.removeEventListener("scroll",R),window.removeEventListener("touchmove",R))},M=()=>{z(),t()};if(Z&&(window.addEventListener("scroll",R),window.addEventListener("touchmove",R)),this.setDefaultPulsarTooltip(L),!L.has_pulsar&&!L.has_tooltip)return M(),null;y&&L.disappearTime&&L.disappearTime>0&&(this.timer=setTimeout(()=>(R(),null),L.disappearTime));let O=501041===s.experience_id||505086===s.experience_id;return L.has_tooltip&&!L.has_pulsar&&(this.dismissRef.current=R,null==e||e.addEventListener("click",this.dismissCb)),(0,o.jsxs)(n.Fragment,{children:[L.has_pulsar&&(0,o.jsx)(c.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(L.has_tooltip,M),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:T&&T.index()}),L.has_tooltip&&(!L.has_pulsar||this.state.paused)&&(L.thumbnail_urls?(0,o.jsx)(a,{anchor:e,dismiss:R,idealDirection:h||"down",text:L.text,thumbnails:L.thumbnail_urls}):(0,o.jsx)(k,{children:(0,o.jsx)(r.J2,{anchor:e,color:"deprecatedBlue",idealDirection:h||"down",onDismiss:g?()=>{}:R,positionRelativeToAnchor:!_&&v,shouldFocus:!1,_deprecatedShowCaret:b,size:d,children:(0,o.jsxs)(r.xu,{column:12,padding:3,children:[(0,o.jsxs)(r.xv,{align:"right"===w?"end":w,color:"inverse",overflow:j,size:u,weight:I||"bold",children:[this.getText(L,l,S),L.secondary_cta_link&&(0,o.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,o.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,o.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:L.secondary_cta_link.url,underline:"hover",children:L.secondary_cta_link.text})})})]}),L.sub_text&&(0,o.jsx)(r.xu,{paddingY:2,children:(0,o.jsx)(r.xv,{color:"inverse",size:u,children:L.sub_text})}),(L.dismiss_button_text||L.complete_button_text)&&(0,o.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:E||"start",marginTop:A||2,children:[L.dismiss_button_text&&(0,o.jsx)(r.xu,{marginEnd:1,column:6,children:(0,o.jsx)(r.zx,{fullWidth:p,color:D||"blue",onClick:()=>{x&&x(),R()},size:"md",text:L.dismiss_button_text})}),L.complete_button_text&&(0,o.jsx)(r.xu,{column:L.dismiss_button_text?6:12,children:P?(0,o.jsx)(r.iP,{fullHeight:!0,onTap:()=>{M(),m&&m()},rounding:2,children:(0,o.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,o.jsx)(r.xv,{color:"shopping",weight:"bold",children:L.complete_button_text})})}):(0,o.jsxs)(r.kC,{justifyContent:"center",children:[L.complete_button_cta_url&&(0,o.jsx)(r.ZP,{fullWidth:p,color:"white",href:L.complete_button_cta_url,size:"md",target:L.complete_button_cta_url?"blank":null,text:L.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),M(),m&&m()}}),!L.complete_button_cta_url&&(0,o.jsx)(r.zx,{fullWidth:p,color:"white",size:"md",text:L.complete_button_text,onClick:()=>{M(),m&&m()}})]})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},696508:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(883119),s=i(33476),o=i(785893);class l extends n.Component{constructor(...e){var t,i,n;super(...e),i={paused:!1,showPulsar:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:String(n))in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;let{display_data:e}=this.experience;e.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){let{anchor:e}=this.props,{paused:t}=this.state;if(!e)return null;let i=e.getBoundingClientRect(),{height:n,width:s}=i;return(0,o.jsx)(r.xu,{position:"absolute",zIndex:new r.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:-(68+n/2),marginLeft:-(68-s/2),cursor:"pointer",pointerEvents:"none"}},children:(0,o.jsx)(r.o3,{paused:t})})}renderFlyout(e){let{anchor:t,flyoutSize:i,idealDirection:n}=this.props;return(0,o.jsx)(r.Li,{anchor:t,idealDirection:n||"down",onDismiss:()=>{},size:i,message:e})}render(){let{experienceIds:e,placementId:t,shouldTimeoutDismiss:i}=this.props,{showPulsar:n}=this.state;return(0,o.jsx)(s.Z,{eligibleIds:e,placementId:t,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:s})=>{this.experience=s;let{display_data:l}=s;return l.has_pulsar||l.has_tooltip?(i&&l.disappearTime&&l.disappearTime>0&&(this.timer=setTimeout(()=>(t(),null),l.disappearTime)),(0,o.jsxs)(r.xu,{zIndex:new r.Ry(10),children:[n&&this.renderPulsar(),l.has_tooltip&&(!l.has_pulsar||this.state.paused)&&this.renderFlyout(l.text)]})):(e(),null)}})}}},216702:(e,t,i)=>{i.d(t,{CF:()=>l,Tl:()=>o,dy:()=>a});var n=i(690108),r=i(527386);let s=(e,t,i,s)=>(o,l)=>a=>{if(o&&o.id){let c=n.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{a((0,r.fO)()),i&&s&&i({event_type:s,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(()=>{l||a((0,r.fO)()),i&&s&&i({event_type:s,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&s&&i({event_type:s,object_id_str:o.id.toString()})})}}},o=e=>s("UserExperienceCompletedResource","completed",e,6567),l=s("UserExperienceResource","dismissed"),a=e=>s("UserExperienceViewedResource","viewed",e,4503)},133149:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(667294),s=i(785893);let o=(e,t,i,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(i/2-e/2)});function l({anchor:e,children:t,zIndex:i,leftOverride:l,topOverride:a}){let c=(0,r.useRef)(null),[d,u]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),{height:_,width:g}=e.getBoundingClientRect();return(0,r.useEffect)(()=>{let{current:t}=c;if(e&&t){let{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:r}=o(_,g,e,i);u(n),h(r)}}),(0,s.jsx)(n.xu,{position:"absolute",zIndex:i?new n.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:l||d,top:a||p}},ref:c,children:t})}let a=function(e){let{anchor:t,leftOverride:i,onTouch:r,onMouseEnter:o,paused:a,size:c,topOverride:d,zIndex:u}=e;return t?(0,s.jsx)(l,{anchor:t,leftOverride:i,topOverride:d,zIndex:u,children:(0,s.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>r(e),onMouseEnter:o,rounding:"circle",children:(0,s.jsx)(n.o3,{paused:a,size:c})})}):null}},359209:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),r=i(702664),s=i(442279),o=i(40660),l=i(220590),a=i(282802);let c=(0,s.P1)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),d=(e,t,i={})=>o.Z.increment(`${e}.${t}`,1,i),u=(e,t)=>"function"==typeof t?t(e):t,p=(e,t={},i=!1)=>{let[s,o]=(0,n.useReducer)(u,t),{isBot:p}=(0,a.B)(),{fetchExperienceForPlacements:h,mountPlacement:_,triggerExperimentsForPlacement:g,unmountPlacement:m}=(0,l.M)();(0,n.useDebugValue)(`Placement Hook ID - ${e}`),(0,n.useEffect)(()=>{let t={...s},n=i&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return _(e,t,n),()=>{m(e)}},[]),(0,n.useEffect)(()=>{Object.keys(s).length>0&&h([e],p,s)},[s]);let x=(0,r.useSelector)(t=>c(t,e)),f=(0,r.useSelector)(t=>t.experiencesMulti[e]),v=x?x.triggerable_placed_exps:[];return(0,n.useEffect)(()=>{let t={platform:"web",placement_id:e,...v};d("experienceservice","placementHookExperimentTrigger.1",t),g(e,s)},[JSON.stringify(v)]),{experience:x,experiencesMulti:f,setExtraContext:o}}},550140:(e,t,i)=>{i.d(t,{UZ:()=>c,Vg:()=>a,ZP:()=>d});var n=i(667294),r=i(883119),s=i(549201),o=i(272109),l=i(785893);let a=200,c=({deviceType:e,hiding:t,visible:i})=>{let n="desktop"===e,r=0,s=n?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",l="hidden";return i&&!t&&(r=1,s="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),i&&t&&(s="scale(1.1)",o="opacity transform 0.2s"),{opacity:r,pointerEvents:"auto",position:"relative",marginTop:n?10:0,transform:s,transition:o,visibility:l}};function d({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:i,primaryAction:d,dismissButton:u,helperLink:p,thumbnail:h,type:_,dataTestId:g,duration:m=2e3,onHide:x,href:f,onClick:v,openNewPage:y,imageUrl:b}){var w;let j;let S=(0,s.ZP)(),[I,P]=(0,n.useState)(!1),[T,C]=(0,n.useState)(!1),E=(0,n.useRef)(),D=()=>{P(!0),E.current=setTimeout(x,a)},A=()=>{E.current=setTimeout(D,m)},k=()=>{E.current&&clearTimeout(E.current)};(0,o.Z)(()=>(setTimeout(()=>C(!0),100),A(),k)),b&&(j={image:(0,l.jsx)(r.Ee,{alt:"string"==typeof i?i:`${i[0]} ${i[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:b})});let L=(0,l.jsx)(r.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:d,text:i,thumbnail:null!==(w=j)&&void 0!==w?w:h,type:_,dismissButton:u,helperLink:p}),{marginTop:Z,opacity:R,pointerEvents:z,position:M,transform:O,transition:B,visibility:F}=c({deviceType:S,hiding:I,visible:T});return(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:B,visibility:F,pointerEvents:z}},"data-test-id":null!=g?g:"toast",onMouseEnter:k,onMouseLeave:A,opacity:R,position:M,marginTop:Z,display:"flex",children:f?(0,l.jsx)(r.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{f.startsWith("#")&&(e.preventDefault(),t()),null==v||v(e)},target:y?"blank":null,rounding:"pill",children:L}):L})}},870243:(e,t,i)=>{i.d(t,{qE:()=>l,u_:()=>a.ZP});var n=i(883119),r=i(785893);let s=(e,t)=>{let i=null==e?void 0:e.includes("images/user/default");return!!(i&&t)};function o({accessibilityLabel:e,name:t,outline:i,size:o,src:l,verified:a}){return(0,r.jsx)(n.qE,{accessibilityLabel:e,name:t,outline:i,size:o,src:s(l,t)?void 0:l,verified:a})}o.displayName="Avatar";let l=o;var a=i(88622);i(550140)},24286:(e,t,i)=>{i.d(t,{$H:()=>o,$q:()=>v,D6:()=>c,KN:()=>b,Lo:()=>r,OS:()=>h,P2:()=>m,Wv:()=>y,ZZ:()=>u,g5:()=>p,jC:()=>l,lX:()=>g,nW:()=>_,oX:()=>x,qG:()=>f,tG:()=>s,yF:()=>n,yc:()=>d,yt:()=>a});let n=236,r=2*n/3,s=175,o=24,l=4,a=8,c=2,d=2,u=14,p=16,h=5,_=12,g=16,m=24,x=16,f=-1,v=(e=!1,t=!1)=>e?t?g:_:m,y=({contentVisibleItemCount:e,gap:t,width:i})=>e||i?(i-(e-1)*t)/e:n,b=(e,t,i,n,r=u)=>{let s=e+r,o=`
@media (min-width: ${t*s}px) and (max-width: ${(i+1)*s-1}px) {
  ${n}
}
`;return o}},885931:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){return e.reduce((e,i)=>{let n="function"==typeof t?t(i):i[t];return n in e||(e[n]=[]),e[n].push(i),e},{})}},833122:(e,t,i)=>{i.d(t,{F:()=>a,Z:()=>l});var n=i(667294),r=i(388011),s=i(906215);let o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function l({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:l,contextLogData:a,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:_,isPaused:g,loggingId:m,objectIdStr:x,slotIndex:f,trackCarousel:v,viewData:y,viewParameter:b,viewType:w}){let{logContextEvent:j}=(0,r.v)(),S=_||s.Z,I=(0,n.useRef)(null),P=n=>{var r,s,p,_,g,S,P;let T=o[h],C=T.idType,E={clientTrackingParams:c,endTime:n.endTime,[C]:m,slotIndex:f,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...u,forcedExit:"removed"===n.forcedExit?0:void 0};"Pin"===h&&(E={...E,pinCellWidth:(null===(r=I.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(s=I.current)||void 0===s?void 0:s.getBoundingClientRect().height)||0,windowWidth:null===(p=window)||void 0===p?void 0:p.innerWidth,windowHeight:null===(_=window)||void 0===_?void 0:_.innerHeight});let D={component:l,object_id_str:x,view_type:w,view_data:y||{},view_parameter:b};v?e&&j({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...E,carouselDataId:Number(e.id),carouselSlotId:(null===(g=e.carousel_slots)||void 0===g?void 0:g[null!==(S=e.index)&&void 0!==S?S:0])&&Number(e.carousel_slots[null!==(P=e.index)&&void 0!==P?P:0].id),slotIndex:e.index}]},...D,aux_data:{...a}}):j({clientTrackingParams:c,event_type:T.eventType,...D,element:d,event_data:{[T.impressionType]:"Story"===h?E:[E]},aux_data:{closeup_navigation_type:i,...a}})},T=(0,n.useCallback)(()=>{try{I.current instanceof HTMLElement&&S.start(I.current).onExitViewport(P).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[I.current]);(0,n.useEffect)(()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),g||T(),()=>{I.current instanceof HTMLElement&&S.stop(I.current)}),[T]);let C=(0,n.useRef)(g);return(0,n.useEffect)(()=>{C.current&&!g&&T(),C.current=g},[g,T]),I}let a=({children:e,...t})=>e({impressionTrackerRef:l(t)})},550941:(e,t,i)=>{i.d(t,{Di:()=>p,Jl:()=>c,R:()=>d,ZP:()=>x,aU:()=>h,j2:()=>u,pN:()=>_,rL:()=>f,vW:()=>m});var n=i(883119),r=i(870243),s=i(550140),o=i(630089),l=i(739425),a=i(785893);let c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",p="account_deactivated",h="unlink_successful",_="account_switch_to_settings";function g(e,t,i){return(0,a.jsx)(n.xv,{align:i||"center",children:(0,o.nk)(e,{username:(0,a.jsx)(n.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:i,username:n=""}){switch(t){case d:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:if(i)return g(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),n);return g(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),n);case p:return g(i?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),n);case h:return g(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),n,"start");case _:return g(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),n,"start");default:return""}}function x(e,t,i=""){if(!(t&&t.search))return"";let{message:n}=(0,l.mB)(t.search),r=(0,l.mB)(t.search).username||i,s="true"===(0,l.mB)(t.search).multiple_accounts;return m({i18n:e,message:n,multipleAccounts:s,username:r})}function f({showOneToast:e,i18n:t,location:i,history:n,username:o,fullName:d,avatarUrl:u}){if(!(i&&i.search))return;let p=x(t,i,o||""),{message:g}=(0,l.mB)(i.search),m=g===_||g===h;p&&(e(({hideToast:e})=>(0,a.jsx)(s.ZP,{duration:c,onHide:e,text:p,thumbnail:m?{avatar:(0,a.jsx)(r.qE,{name:d||"",src:u||"",size:"md"})}:void 0})),n.replace(i.hash?`${i.pathname}${i.hash}`:i.pathname))}},752977:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(840093),r=i(514316);let s=e=>{var t;let i={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(i.fullName&&i.imageMediumUrl&&i.imageLargeUrl||(0,n.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create)?{...i,partner:{is_create:!0}}:i},o=(e,t,i)=>{(0,r.r8)({...(0,r.rl)(),[e.id]:s(e)}),t&&i&&(0,n.Z)("new_account_add_success",{method:t,user_added:e.id},i)}},840093:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(172045),r=i(514316),s=i(98736);let o="web_account_switcher",l=()=>{let e=(0,n.Z)();return(0,s.tj)(`${o}.utils.group_created`,{group_id:e,group_count:(0,r.lv)()}),e},a=(e,t,i)=>{let n=(0,r.yW)();n||(n=l(),(0,r.M3)(n));let a={group_count:(0,r.lv)()},c="";i&&(c="account_switcher_modal"===i?"modal.":"flyout."),(0,s.tj)(`${o}.${c}${e}`,{...t,...a})}},950861:(e,t,i)=>{i.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>g,lp:()=>_,nY:()=>m});var n=i(463310),r=i(675689),s=i(860438),o=i(837792),l=i(98736),a=i(198541),c=i(911386),d=i(619277);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===o.lf||window.location.pathname===o.ZE||window.location.pathname.startsWith(o.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(o.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=s.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=s.Z.getItem(d.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let i=(new Date().getTime()/1e3).toString();t.push(i);let n=t.join("|");s.Z.setItem(d.kl,n)}static isFullyLoggedIn(e,t){return e&&t===r.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,c.Z)();if(t){let i=t.next;i&&(e=i,delete t.next),e=(0,a.Z)(e,t)}}(0,n.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){s.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let i=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(i).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,i){(0,l.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),i?i(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=p;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},643183:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(497088);let r=n.Z},660774:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(785893);function s({searchDelightText:e,searchDelightConfig:t}){let{text_background_color:i,text_colors:n=[]}=t,s=i?{backgroundColor:i,margin:"-2px",padding:"2px"}:void 0;if(!(n.length>1))return(0,r.jsx)("span",{style:{color:n[0],whiteSpace:"pre-wrap",...s},children:e},`searchDelight-${e}`);{let t=0;return(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap",...s},children:e.split("").map((e,i)=>{let s=n[t];return" "!==e&&(t=(t+1)%n.length),(0,r.jsx)("span",{style:{color:s},children:e},`searchDelight-${i}`)})})}}var o=i(883119);let l=({children:e,gray:t,weight:i="normal"})=>(0,r.jsx)(o.xv,{color:t?"subtle":void 0,inline:!0,weight:i,children:(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e})}),a=({allBold:e,searchDelightParts:t,searchDelightConfig:i,text:o,weightPivot:a})=>{let c=t[1],d=o.indexOf(c),u=d+c.length;return a<=d?(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(0,a)}),(0,r.jsxs)(l,{weight:"bold",children:[o.substring(a,d),(0,r.jsx)(s,{searchDelightText:c,searchDelightConfig:i}),o.substring(u)]})]}):a<=u?(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(0,d)}),(0,r.jsxs)(l,{weight:"bold",children:[(0,r.jsx)(s,{searchDelightText:c,searchDelightConfig:i}),o.substring(u)]})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(0,d)}),(0,r.jsx)(l,{weight:"bold",children:(0,r.jsx)(s,{searchDelightText:c,searchDelightConfig:i})}),(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(u,a)}),(0,r.jsx)(l,{weight:"bold",children:o.substring(a)})]})},c=(e,t)=>{let i=RegExp("\\b"+t+"\\b","i"),n=e.match(i);if(!n)return null;let r=e.toLowerCase().indexOf(t.toLowerCase()),s=e.slice(0,r),o=e.slice(r,r+t.length);return[s,o]},d=(e,t)=>t.map(t=>c(e,t)).filter(Boolean).sort((e,t)=>e&&t?e[0].length-t[0].length:0).shift();function u({allBold:e,searchDelightConfig:t,query:i="",text:s}){let o=s.toLowerCase().startsWith(i.toLowerCase())?i:"",c=o.length,u=t?d(s,t.search_query_list):null;return u&&t?(0,r.jsx)(a,{allBold:e,searchDelightParts:u,searchDelightConfig:t,text:s,weightPivot:c}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:s.substr(0,c)}),(0,r.jsx)(l,{weight:"bold",children:s.substr(c)})]})}},369840:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),r=i(883119),s=i(243600),o=i(536042),l=i(785893);function a({dataTestId:e,focusOptionId:t,isFocused:i,name:a,onBlur:c,onChange:d,onClick:u=()=>{},onFocus:p,onKeyDown:h,onSearchTrigger:_,placeholder:g,value:m,disabled:x=!1}){let f=(0,o.ZP)(),v=(0,n.useRef)(null);return(0,n.useEffect)(()=>{v.current&&_&&v.current.addEventListener("searchTrigger",_)},[]),(0,n.useEffect)(()=>{if(!v.current)return;let e=document.activeElement===v.current;e!==i&&(i?v.current.focus():v.current.blur())},[i]),(0,l.jsxs)(r.xu,{height:"100%",flex:"grow",children:[(0,l.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":f._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),"aria-expanded":i,"data-test-id":e,name:a,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:p,onKeyDown:h,placeholder:g||f._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),ref:v,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:s.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:m,disabled:x}),(0,l.jsx)(r.xu,{display:"none",id:"searchBoxAccessibleText",children:f._(`When autocomplete results are available use up and down arrows to
                review and enter to select. Touch device users, explore by touch or
                with swipe gestures.`, 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},181437:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(970588);function r({report:e,query:t,suggestions:i,type:r}){return(0,n.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:e,query:t,suggestions:i,type:r}})}},833603:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(690108);let s=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:i={},value:s}){let l=(0,n.useRef)(!1),a=(0,n.useRef)({}),[c,d]=(0,n.useState)([]),u=function({resourceName:e,resourceOptions:t}){let i=(0,n.useRef)();return i.current||(i.current=function({resourceName:e,resourceOptions:t}){let i={...t,count:"count"in t?t.count:5},n=r.Z.create(e,i),s=new o,l=()=>{n.abort()},a=async(e,t)=>{if(n.isCalling()){var i,r;let s=null===(i=n.options)||void 0===i?void 0:i.term,o=null===(r=n.options)||void 0===r?void 0:r.pin_scope;if(e===s&&t===o)return;l()}let{bookmarks:o,...a}=n.options||{};n.options={...a,term:e,pin_scope:t};let c=await n.callGet({showError:!1}),{data:d}=c.resource_response,u=null==d?void 0:d.items,p=(null==d?void 0:d.hint)||{};return s.set(`${t}-${e}`,{hint:p,items:u}),{term:e,items:u,hint:p}};return async function(e,t){let i=s.get(`${t}-${e}`);if(i){let{items:t}=i;if(t&&t.length){l();let{hint:n}=i;return{hint:n,items:t,term:e}}}return e.length>=0?a(e,t):{hint:{},items:[],term:e}}}({resourceName:e,resourceOptions:t})),i.current}({resourceName:t,resourceOptions:i}),p=i.pin_scope||"pins",h=`${p}-${s}`;return(0,n.useEffect)(()=>{(async()=>{if(null!=s&&(e||l.current)){if(h in a.current)d(a.current[h]);else try{let e=await u(s,p);if(e){let{items:t}=e;a.current[h]=t,d(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}l.current||(l.current=!0)})()},[s,p,h]),c}o.prototype.set=function(e,t){let i=this._uidToData[e];i||(i=new s(e,t),this._uidToData[e]=i,this._numItems+=1),this._moveToFront(i),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1}},207732:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(845098);function r(e){let{query:t,rs:i,scope:r,guideAdded:s,filters:o,user:l,requestParams:a}=e;if(!t)return"/";let c={q:t,rs:i,...a};if(o&&(c.filters=o),l&&(c.user=l),s&&s.term&&(c.add_refine=`${s.term}|guide|word|${s.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(c)}`;let d=r;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(d)||(d="pins"),d?`/search/${d}/?${(0,n.Z)(c)}`:`${window.location.pathname}?${(0,n.Z)(c)}`}},118482:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(739425);function r(e){let t;let i=(0,n.mB)(e.search)||{};if(i.q){let i=e.pathname.split("/");t=i.length>2?i[2]:"pins"}if(i.q&&t){let e=Array.isArray(i.q)?i.q.join(" "):i.q,n=Array.isArray(i.rs)?"":i.rs,r=Array.isArray(i.user)?"":i.user;return{filters:i.filters||"",user:r,query:e||"",rs:n||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},511139:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(468e3),r=i(845098);function s({bubbleId:e,pinId:t,query:i,referringSource:s,storyCategory:o,storyId:l,title:a}){let c=[0,24,21,26].includes(o),d=(0,r.Z)({q:i,rs:s||void 0,b_id:e,source_id:l,top_pin_id:t}),u=c&&a?(0,n.x)({title:a,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:`/search/pins/${d?"?"+d:""}`}},649715:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return(e||"").trim().replace(/\s+/g," ")}},637362:(e,t,i)=>{i.d(t,{J:()=>n,Z:()=>r});let n=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},729522:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(540975);let r=/\{\{\s*(\w+)\s*\}\}/g,s=(e,t)=>(0,n.Z)(r,e,t)},686473:(e,t,i)=>{i.d(t,{Z:()=>n});let n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},540975:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(e,t,i)=>t?t.replace(e,(e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:""):""},493851:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(729522),r=i(686473);let s=(e,t)=>{let i={};return Object.keys(t).forEach(e=>{i[e]=t[e]?(0,r.Z)(t[e].toString()):""}),(0,n.Z)(e,i)}},371362:(e,t,i)=>{i.d(t,{ZP:()=>n});function n(e,t=80,i="…",n=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)r=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);r=e.substring(0,i)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},99220:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(667294),r=i(758360),s=i(310561),o=i(282802),l=i(114935),a=i(291986),c=i(583592);let{Provider:d,useMaybeHook:u}=(0,c.Z)("timeSpentContext");var p=i(393729),h=i(525104),_=i(785893);function g(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends n.Component{constructor(e){super(e),g(this,"componentWillUnmount",()=>{this.unregisterComponent()}),g(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:r,view:s,viewParameter:o}=this.props;return{view:s||(null==r?void 0:r.view),viewParameter:o||(null==r?void 0:r.viewParameter),component:t||(null==r?void 0:r.component),element:i,objectId:n||(null==r?void 0:r.objectId),clientTrackingParams:e||(null==r?void 0:r.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),g(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),g(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),g(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),g(this,"getTimedPair",()=>this.state.timedPair),g(this,"setTimedPair",e=>this.setState({timedPair:e})),g(this,"isRegistered",!1),g(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),g(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),g(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:n,right:r,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===r&&0===s?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new a.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,_.jsx)(d,{value:this.getContext(),children:(0,_.jsx)(r.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function x(e){var t;let i=(0,s.Hv)(),r=u(),l=(0,p.w)(),a=(0,h.H0)(),{requestIdentifier:c=""}=(0,o.B)(),d={app_instance_id:c.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)(()=>{null==l||l.setHistoryStackContext(i)},[i,l]),(0,n.useEffect)(()=>{null==l||l.setPins(null!=a?a:{})},[a,l]),l?(0,_.jsx)(m,{...e,auxData:d,timeSpentContext:r,timeSpentManager:l,children:e.children}):e.children}x.displayName="TimeSpent";let f=x},3060:(e,t,i)=>{i.d(t,{Ag:()=>s,C0:()=>a,L1:()=>p,Vi:()=>o,YD:()=>u,kS:()=>r,oo:()=>l,p3:()=>h,vC:()=>c,vI:()=>d});var n=i(957286);let r="https://www.pinterest.com/business/hub/",s="https://www.pinterest.com/homefeed/",o="www.pinterest.com",l="https://help.pinterest.com",a=`${(0,n.Z)({site:"www"})}`,c=(0,n.Z)({site:"developers"}),d=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,h=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},286354:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(911386);let r=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,n.Z)(t[1])}return(0,n.Z)()}},806681:(e,t,i)=>{i.d(t,{Z:()=>o,q:()=>s});var n=i(667294);let r=()=>{let[e,t]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1);return{active:e,focused:i,hovered:s,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){let t=r();return e(t)}let o=r},589665:(e,t,i)=>{i.d(t,{L1:()=>s,Rz:()=>a,WZ:()=>o,cI:()=>r,fe:()=>l,hu:()=>n});let n=64,r=80,s=22,o="HeaderContent",l=671,a={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},328939:(e,t,i)=>{i.d(t,{fv:()=>f,fS:()=>S,Hs:()=>y,Mv:()=>m,uc:()=>x,dL:()=>g,qS:()=>v,Y4:()=>j,HE:()=>w,Cy:()=>b});var n=i(667294),r=i(973935),s=i(388011),o=i(906215),l=i(785893);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.Component{constructor(...e){super(...e),a(this,"observe",()=>{try{if(this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement){let{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),a(this,"logImpression",e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})})}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return n.Children.only(this.props.children)}}function d(e){let{logImpression:t}=(0,s.v)();return(0,l.jsx)(c,{...e,logImpression:t})}var u=i(521262),p=i(282802),h=i(567648);function _({auxData:e,component:t,eventData:i,eventType:r,impressionType:l,isPaused:a,objectIdStr:c,viewData:d,viewType:_,viewParameter:g}){let m=(0,n.useRef)(null),{logImpression:x}=(0,s.v)(),f=(0,h.Z)(),v=(0,p.B)(),y=(0,n.useCallback)(()=>{try{if(m.current instanceof HTMLElement){let{pinIdStr:n,newsIdStr:s}=i;o.Z.start(m.current).onExitViewport(n=>{var s,o,a,p,h,y;x({viewData:d||{},viewType:_,viewParameter:g,eventType:r,impressionType:l,auxData:e,component:t,objectIdStr:c,eventData:{endTime:n.endTime,time:n.startTime,pinCellWidth:(null===(s=m.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=m.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(a=window)||void 0===a?void 0:a.innerWidth,windowHeight:null===(p=window)||void 0===p?void 0:p.innerHeight,...i}});let{attributionSourceId:b,campaignId:w,isPromoted:j,link:S}=i;"pinImpressions"===l&&j&&!f&&null!==(h=window.document.featurePolicy)&&void 0!==h&&h.allowsFeature("attribution-reporting")&&(0,u.YS)(l,j,null!=b?b:null,S,w,{appType:v.appTypeDetailed,osType:(0,u.eF)(null!==(y=v.userAgent.osName)&&void 0!==y?y:"Unknown")})}).setDebugId(n||s||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[m.current]);return(0,n.useEffect)(()=>{a||y();let{current:e}=m;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}},[a,y]),m}let g=e=>{let t=_({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{let t=_({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},x=e=>{let t=_({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},f=e=>(0,l.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{let t=_({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,l.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),b=e=>{let t=_({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=e=>{let t=_({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},j=e=>{let t=_({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=e=>{let t=_({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},923632:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),r=i(886365),s=i(785893);let o=new n.Ry(500);function l(){let{appUI:{showTypeaheadOverlay:e}}=(0,r.I)();return e?(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},bottom:!0,left:!0,right:!0,top:!0,position:"fixed",zIndex:o}):null}},251163:(e,t,i)=>{i.d(t,{O:()=>c,Z:()=>d});var n=i(667294),r=i(883119),s=i(536042),o=i(837792),l=i(785893);let a={xs:12,sm:16,md:20,lg:24};function c({children:e}){let t=(0,s.ZP)();return(0,l.jsx)(r.u,{link:(0,l.jsx)(r.rU,{href:o.vB,target:"blank",children:(0,l.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:i,showText:o,size:d}){let u=(0,s.ZP)(),p=(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:a[d]}),o&&(0,l.jsx)(r.xu,{marginStart:2,children:(0,l.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(n.Fragment,{children:[i&&!t&&(0,l.jsx)(c,{children:p}),i&&t&&p,e&&!i&&(0,l.jsx)(r.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:a[d]})]})}},313398:(e,t,i)=>{i.d(t,{A:()=>o,Z:()=>l});var n=i(667294),r=i(883119),s=i(785893);let o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:i,disableTabIndex:l,height:a,id:c,isHovered:d,onClick:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:_,searchBoxRenderStopwatch:g,url:m,width:x}){var f,v;let[y,b]=(0,n.useState)(!1),w=()=>{h?h():b(!0)},j=()=>{_?_():b(!1)},S=d||y,I=S?o.hoverOverlay:o.bubbleOverlay;return(0,s.jsx)(r.Tg,{href:m,onBlur:j,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:j,onTap:()=>{null==u||u(c)},rounding:4,tabIndex:l?-1:void 0,children:(0,s.jsx)(r.zd,{rounding:4,width:x||"100%",height:a,children:null!=i&&i.url?(0,s.jsxs)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(f=i.height)&&void 0!==f?f:1,naturalWidth:null!==(v=i.width)&&void 0!==v?v:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:i.url,children:[(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:I},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},470792:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),r=i(883119),s=i(870243),o=i(181437),l=i(493851),a=i(806685),c=i(802071),d=i(313398),u=i(149139),p=i(157987),h=i(328939),_=i(785893);function g({bubble:e,height:t,isHovered:i,onClick:g,onMouseDown:m,onMouseEnter:x,onMouseLeave:f,searchBoxRenderStopwatch:v,showFlag:y,slotIndex:b,storyId:w,storyType:j,viewParameter:S,viewType:I,width:P}){var T,C;let E=(0,c.Z)(),{id:D,title:A,image_urls:k,article_creator_user:L}=e,Z=()=>{(0,o.Z)({query:"",report:A,suggestions:[A],type:u.KH.SEARCH_TRENDING_TEXT})},R=k&&k.length>0?{url:k[0]}:void 0,z=(0,l.Z)(A||"",{});if(!e.title||!e.id)return null;let M=(0,a.T7)(null!==(T=e.feed_source)&&void 0!==T?T:0,null!==(C=e.is_product_pin_feed)&&void 0!==C&&C,e.title,e.id);return(0,_.jsx)(h.Y4,{auxData:{grid_index:b.toString(),today_article_id:D,story_type:j,story_id:w},loggingId:D,objectIdStr:D,slotIndex:b,viewParameter:S||3467,viewType:I,children:({impressionTrackerRef:e})=>(0,_.jsx)(d.Z,{backgroundColor:"gray",coverImage:R,disableTabIndex:!0,height:t,id:D,isHovered:i,onClick:g,onMouseDown:m,onMouseEnter:x,onMouseLeave:f,ref:e,searchBoxRenderStopwatch:v,url:M,width:P,children:({isHovered:i})=>{var o;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(r.xu,{alignItems:"end",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P||"100%",ref:e,children:(0,_.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,_.jsx)(r.X6,{size:"500",align:"center",color:"light",children:z}):(0,_.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:z}),L&&L.image_small_url&&L.full_name&&(0,_.jsxs)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,_.jsx)(r.xu,{marginEnd:2,children:(0,_.jsx)(s.qE,{outline:!0,size:"xs",src:L.image_small_url,name:L.full_name})}),(0,_.jsx)(r.xv,{size:"100",color:"light",children:L.full_name})]})]})}),E.isAuth&&E.isEmployee&&y&&(0,_.jsx)(r.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,_.jsx)(p.Z,{handleReport:Z,imgSignature:null!==(o=null==R?void 0:R.url)&&void 0!==o?o:"",isVisible:i})})]})}})})}},695458:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),r=i(883119);let s={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var o=i(785893);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.Component{constructor(...e){super(...e),l(this,"state",{hovered:!1}),l(this,"handleMouseEnter",()=>this.setState({hovered:!0})),l(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,n=Object.freeze({height:e,width:e}),l={border:0,display:"block",background:"transparent",cursor:"pointer",...s.buttonFocus},a={...s.pog,...s.transparent,...this.state.hovered?s.transparentHovered:{}},c={...n,...a};return(0,o.jsx)("button",{type:"button",style:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,o.jsx)("div",{style:c,children:(0,o.jsx)(r.xu,{rounding:"circle",children:(0,o.jsx)(r.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:i})})})})}}let c=a},157987:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),r=i(883119),s=i(970588),o=i(88622),l=i(550140),a=i(536042),c=i(63262),d=i(695458),u=i(613352),p=i(785893);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends n.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",()=>this.setState({showModal:!1})),h(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),h(this,"reportSuggestionImage",async function(){let{imgSignature:e,reportImage:i}=t.props;t.setState({showModal:!1});let n=await (0,s.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),r=n.resource_response.data.id;i(r)}),h(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,p.jsx)(l.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})),this.handleDismiss())}),h(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,p.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(o.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(r.xu,{children:[(0,p.jsx)(r.xu,{padding:5,children:(0,p.jsx)(r.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(r.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(r.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(r.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(r.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"textType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(r.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(r.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"imageType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(r.iz,{}),(0,p.jsxs)(r.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}function g(e){let t=(0,a.ZP)(),{reportImage:i}=(0,u.f)();return(0,p.jsx)(_,{...e,i18n:t,reportImage:i,toastManagerContext:(0,c.F9)()})}},385891:(e,t,i)=>{i.d(t,{Z:()=>eJ});var n=i(667294),r=i(616550),s=i(883119),o=i(388011),l=i(536042),a=i(906215),c=i(731048),d=i(988014),u=i(245410),p=i(912208);let{Provider:h,useHook:_}=(0,p.Z)({name:"search_tab_render",sampleRate:1});var g=i(282802),m=i(369840),x=i(207732),f=i(118482),v=i(649715),y=i(700746),b=i(802071),w=i(886365),j=i(149139),S=i(589665),I=i(785893);function P({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:i,onDismiss:n}){return(0,I.jsx)(s.Lt,{anchor:t,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:n,zIndex:new s.Ry(S.fe),children:e.map((e,t)=>(0,I.jsx)(s.Lt.Item,{dataTestId:"search-filter-"+e.text.replace(/\s/g,"-").toLowerCase(),onSelect:()=>i(t),option:{value:e.text,label:e.text},children:(0,I.jsx)(s.xv,{weight:[y.lw.PINS,y.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text))})}let T=e=>{switch(e){case y.lw.PINS:return 220;case y.lw.PINS_MINE:return 223;case y.lw.PINS_VIDEO:return 11399;case y.lw.BOARDS:return 221;case y.lw.USERS:return 222;default:return null}},C=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:i,handleScopeChange:a}){let{logContextEvent:c}=(0,o.v)(),d=(0,l.ZP)(),u=function(e){let t=[{scope:y.lw.PINS,text:e._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar')},{scope:y.lw.PINS_MINE,text:e._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar')}],i=t.findIndex(e=>e.scope===y.lw.PINS_MINE);return t.push(t.splice(i,1)[0]),t}(d),p=(0,n.useRef)(null),h=(0,r.useHistory)(),[_,g]=(0,n.useState)(e||u[0].scope),[m,x]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(e)},[e]);let b=()=>{v(!0),i&&i(!0)},w=()=>{v(!1),i&&i(!1)},S=(u[_?u.findIndex(e=>e.scope===_):0]||u[0]).text,C=(0,I.jsx)(s.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:j.XI}},ref:p,children:(0,I.jsxs)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,I.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:S}),(0,I.jsx)(s.xu,{marginStart:2,children:(0,I.jsx)(s.JO,{accessibilityLabel:d._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,I.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:f?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:j.XI,marginStart:2,position:"relative",rounding:6,children:[(0,I.jsx)(s.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>b(),onMouseLeave:()=>w(),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),x(!m),c({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:6,children:C}),m&&(0,I.jsx)(P,{contentTypes:u,contentTypesAnchor:p.current,handleSelectFilter:e=>{let i=u[e],n=i.scope;g(n),x(!1),c({event_type:101,component:215,element:T(n),aux_data:{entered_query:t}}),a(n),t&&h.push(`/search/${n}/?q=${encodeURIComponent(t)}&rs=filter`)},onDismiss:()=>x(!1)})]})};var E=i(297776),D=i(549201),A=i(272109),k=i(681557);let L="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",Z={transform:"scale(0)",opacity:"0",transition:L},R={transform:"scale(1)",opacity:"1",transition:L},z={transform:"scale(1.2)",transition:L};function M({handleClearMode:e,scope:t,backgroundColorHex:i,iconType:r}){var o,a;let c;let d=(0,l.ZP)(),u=(0,D.HG)(),p=(0,y.Hd)(t,u),[h,_]=(0,n.useState)(!1),g=(0,s.JZ)(),[m,x]=(0,n.useState)(g?R:Z),f=(0,n.useRef)();if((0,A.Z)(()=>g?()=>{}:(x(R),()=>{x(Z)})),h)c="cancel";else if(6===r)c="person";else{if(1!==r)return null;c="shopping-bag"}return(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(s.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:f,dangerouslySetInlineStyle:{__style:h?z:m},"data-test-id":"mode-icon-wrapper",children:(0,I.jsx)(s.iP,{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),onFocus:()=>_(!0),onBlur:()=>_(!1),onTap:e,rounding:"circle",tapStyle:"compress",children:(0,I.jsx)(s.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(o=i&&i[0])&&void 0!==o?o:void 0}},children:(0,I.jsx)(s.JO,{accessibilityLabel:d._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:c,color:"inverse",size:16})})})}),(null===(a=f.current)||void 0===a?void 0:a.style.transform)!==Z.transform&&(0,I.jsx)(E.default,{id:"experience-tooltip",anchor:f.current,hasFullWidthButton:!1,placementId:p,experienceIds:[t===y.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function O({handleClearMode:e,scope:t}){let{modeIcon:i}=(0,k.A)().searchContext;if(i)return(0,I.jsx)(n.Suspense,{fallback:null,children:(0,I.jsx)(M,{handleClearMode:e,scope:t,backgroundColorHex:i.backgroundColorHex,iconType:i.iconType})})}var B=i(583592),F=i(170567);let N={recentSaves:[],recentViews:[]};function q(e=N,t){if("FETCH_COMPLETE"===t.type){let{options:i={},resource:n}=t.payload,{data:r}=t.payload.response.resource_response;if("ApiResource"===n&&"/v3/users/me/recent/engaged/pin/stories/"===i.url&&r){let t=r.find(e=>"user_recently_viewed_pins"===e.story_type),i=r.find(e=>"user_recently_saved_pins"===e.story_type),n=(null==t?void 0:t.objects.map(({description:e,id:t,images:i},n)=>({label:e,images:i,resultIndex:n,type:"recent_view",url:`/pin/${t}`})))||[],s=(null==i?void 0:i.objects.map(({description:e,id:t,images:i},n)=>({label:e,images:i,resultIndex:n,type:"recent_save",url:`/pin/${t}`})))||[];return{...e,recentSaves:s,recentViews:n}}}return e}let{Provider:H,useHook:$}=(0,B.Z)("SearchBox");function U({children:e}){let[t,i]=(0,n.useReducer)(q,N);(0,F.Z8)("ApiResource",e=>{i({type:"FETCH_COMPLETE",payload:e})});let r=(0,n.useMemo)(()=>({state:t}),[t]);return(0,I.jsx)(H,{value:r,children:e})}var W=i(468e3),G=i(819079),Y=i(511139),V=i(198541);function K({suggestion:e,query:t,lastFocusTime:i=0,filterSelectedTerm:n}){if("explorearticle"===e.type){var r,s;let{story_category:t,query:i,referringSource:n,id:o,storyId:l}=e;return null!==(r=null===(s=e.action)||void 0===s?void 0:s.url)&&void 0!==r?r:(0,Y.Z)({storyCategory:t,query:i,referringSource:n,bubbleId:o,storyId:l})}if("todayarticle"===e.type){let{id:t,title:i}=e;return(0,W.x)({title:i,id:t,articleType:"today"})}let o={eq:(0,v.Z)(t)};i&&(o.etslf=String(Date.now()-i)),"inclusive_product_filter_query"===e.type&&n&&(o.filters=n);let l=(0,V.Z)(e.url||"",o);return l}function X(e,t){return`SuggestionGroup-Option-${e}-${t}`}let Q=e=>{let t=0,i=e.map(e=>{var i,n;let r=t;return t+=null!==(i=(null!==(n=e.items)&&void 0!==n?n:[]).length)&&void 0!==i?i:0,r});return i},J=(e,t)=>{if(null==t)return;let i=Q(e);for(let n=0;n<i.length;n+=1)if(e[n].items.length&&t-i[n]<e[n].items.length)return e[n].items[t-i[n]];return null};var ee=i(885931),et=i(833603),ei=i(359209),en=i(630089),er=i(99220),es=i(286354),eo=i(604094),el=i(220590);let ea=(e,t)=>{let i=RegExp("\\b"+t+"\\b","i");return e===t||e.match(i)};function ec({children:e,experiences:t,placementId:i,searchTerm:r,suggestions:s}){let{viewExperience:o}=(0,el.M)(),[l,a]=(0,n.useState)(null),[c,d]=(0,n.useState)(new Set),u=(null==t?void 0:t.filter(e=>{var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===3}).map(e=>({...e.display_data,id:e.experience_id})))||[];return(0,n.useEffect)(()=>{if(!r||!s){a(null);return}let e=null==l?void 0:l.search_query_list.find(e=>s.some(({label:t})=>ea(t,e)));if(!e){let e=u.find(e=>{var t;return e.id!==(null==l?void 0:l.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find(e=>s.some(({label:t})=>ea(t,e))))});if(e){a(e);let{id:t}=e;c.has(t)||("number"==typeof t&&o(i,t),d(new Set(c).add(t)))}}},[r]),e({searchDelightConfig:l})}var ed=i(643183),eu=i(660774),ep=i(181437),eh=i(637362),e_=i(28630);function eg({suggestions:e}){var t;let i=e[0],n=(0,e_.Z)({url:null===(t=i[0])||void 0===t?void 0:t.action_button_uri});return(0,I.jsxs)(s.xu,{padding:10,children:[(0,I.jsx)(s.xu,{marginBottom:6,children:(0,I.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:i.description})}),(0,I.jsx)(s.Tg,{rel:n?"nofollow":"none",href:i.action_button_uri,rounding:"pill",children:(0,I.jsx)(s.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,I.jsx)(s.xv,{color:"inverse",weight:"bold",children:i.action_button_text})})})]})}var em=i(88622),ex=i(550140),ef=i(63262);function ev({handleReport:e}){let t=(0,l.ZP)(),[i,r]=(0,n.useState)(!1),{showToast:o}=(0,ef.F9)();return(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(s.hU,{accessibilityLabel:t._('Report', 'Accessibility label for report icon for search term', 'Accessibility label for report icon for search term'),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),r(!0)},size:"xs",iconColor:"gray"}),i&&(0,I.jsx)(em.ZP,{accessibilityModalLabel:t._('Report search', 'accessible label for report search modal', 'accessible label for report search modal'),heading:t._('Report Search Term', 'Heading for report searchmodal', 'Heading for report searchmodal'),onDismiss:()=>r(!1),size:"sm",children:(0,I.jsxs)(s.xu,{children:[(0,I.jsx)(s.xu,{padding:4,children:(0,I.jsx)(s.xv,{children:t._('Flag this search term for review by our Trust and Safety team', 'What will happen when you report a search term', 'What will happen when you report a search term')})}),(0,I.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,I.jsx)(s.xu,{margin:2,children:(0,I.jsx)(s.zx,{fullWidth:!0,onClick:()=>r(!1),text:t._('Cancel', 'Text for cancel button when reporting search result', 'Text for cancel button when reporting search result')})}),(0,I.jsx)(s.xu,{margin:2,children:(0,I.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:()=>{e(),o(({hideToast:e})=>(0,I.jsx)(ex.ZP,{onHide:e,text:t._('Thanks! Your feedback helps keep the Pinterest community safe.', 'Toast after reporting a search term', 'Toast after reporting a search term')})),r(!1)},text:t._('Report', 'Button label to report search term', 'Button label to report search term')})})]})]})})]})}var ey=i(251163);function eb({id:e,children:t,isHovered:i,url:n,onClick:r,onMouseEnter:o,onMouseLeave:l}){return(0,I.jsx)(s.xu,{id:e,color:i?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":i?"true":"false",children:(0,I.jsx)(s.Tg,{onMouseEnter:o,onMouseLeave:l,href:n,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),r())},children:(0,I.jsx)(s.xu,{marginBottom:1,paddingX:5,children:t})})})}function ew({highlightMatch:e=!1,iconName:t,imageUrl:i,isVerifiedMerchant:n=!1,label:r,query:o,rounding:a,searchDelightConfig:c,subLabel:d,verified:u=!1}){let p=(0,l.ZP)();return(0,I.jsx)(s.xu,{display:"flex",paddingY:i?1:0,width:"100%","data-test-id":i||t?"enriched-search-suggestion":"regular-search-suggestion",children:(0,I.jsxs)(s.kC,{gap:{row:2,column:0},alignItems:"center",children:[i?(0,I.jsx)(s.xu,{width:40,height:40,overflow:"hidden",rounding:a&&2===a?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,I.jsx)(s.Ee,{alt:"",role:"presentation",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,src:i})}):(0,I.jsx)(s.kC,{justifyContent:"center",alignItems:"center",width:40,height:40,children:(0,I.jsx)(s.xu,{marginTop:1,children:(0,I.jsx)(s.JO,{accessibilityLabel:t?(0,en.nk)(p._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,I.jsxs)(s.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,I.jsxs)(s.kC,{alignItems:"center",children:[e&&o?(0,I.jsx)(eu.Z,{searchDelightConfig:c,query:o,text:r||o}):(0,I.jsx)(s.xv,{weight:"bold",children:r}),(u||n)&&(0,I.jsx)(s.xu,{marginStart:1,children:(0,I.jsx)(ey.Z,{hasVerifiedIdentity:u,iconOnly:!0,isVerifiedMerchant:n,size:"xs"})})]}),d&&(0,I.jsx)(s.xv,{size:"100",children:d})]})]})})}var ej=i(618305);let eS=(0,n.lazy)(()=>Promise.all([i.e(67631),i.e(5929)]).then(i.bind(i,841228)));function eI({experiences:e,index:t,focusedIndex:i,onInclusiveProductFilterClick:r,onSuggestionClick:o,onSuggestionMouseEnter:a,onSuggestionMouseLeave:c,query:d,suggestion:u}){let p=(0,l.ZP)(),h=(0,b.Z)(),_="number"==typeof u.identifier_icon_name&&u.identifier_icon_name!==eh.J?(0,eh.Z)(u.identifier_icon_name):void 0,g=()=>{(0,ep.Z)({report:u.label.toLowerCase(),query:d.toLowerCase(),suggestions:[u.label],type:0})};return(0,I.jsx)(ec,{experiences:e,placementId:1000315,searchTerm:d,suggestions:[u],children:({searchDelightConfig:e})=>(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(eb,{id:X(0,t),url:K({suggestion:u,query:d}),isHovered:i===t,onClick:()=>{o(u,t)},onMouseEnter:()=>{a(t)},onMouseLeave:()=>{c()},children:(0,I.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,I.jsx)(s.xu,{flex:"grow",children:"inclusive_product_filter_query"===u.type?(0,I.jsx)(s.xu,{marginBottom:2,children:(0,I.jsx)(s.xv,{weight:"bold",children:(0,en.nk)(u.eligibleHairPatternFilters?p._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):p._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,I.jsx)(eu.Z,{searchDelightConfig:e,query:d,text:u.label||d})})})}):(0,I.jsx)(ew,{highlightMatch:!0,iconName:_,imageUrl:u.image,label:u.label,query:d,rounding:2,searchDelightConfig:e,subLabel:u.subLabel})}),h.isAuth&&h.isEmployee&&i===t?(0,I.jsx)(s.xu,{flex:"none",children:(0,I.jsx)(ev,{handleReport:g})}):null]})}),"inclusive_product_filter_query"===u.type&&r&&(0,I.jsx)(s.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:u.eligibleHairPatternFilters?(0,I.jsx)(eo.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,I.jsx)(ed.Z,{children:(0,I.jsx)(s.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,I.jsx)(eS,{eligibleFilters:u.eligibleHairPatternFilters,isUpsell:!0,query:d,onClickApplyFilters:e=>r(u,t,e)})})})}):(0,I.jsx)(ej.Z,{query:d,onClickApplyFilters:e=>r(u,t,e),showHeaderText:!1})})]})})}let eP=({index:e,focusedIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,suggestion:s})=>(0,I.jsx)(eb,{id:X(0,e),url:s.url,isHovered:t===e,onClick:()=>{i(s,e)},onMouseEnter:()=>{n(e)},onMouseLeave:()=>{r()},children:(0,I.jsx)(ew,{imageUrl:s.image,isVerifiedMerchant:s.is_verified_merchant,label:s.label,rounding:"circle",subLabel:s.subLabel,verified:s.verified})},`${s.type}-${s.label}-${s.subLabel||""}`);function eT({focusedIndex:e,onSuggestionClick:t,onSuggestionMouseEnter:i,onSuggestionMouseLeave:n}){let r=(0,l.ZP)(),o=0===e;return(0,I.jsx)(s.xu,{"aria-selected":o?"true":"false",id:"syop_cta",role:"option",children:(0,I.jsxs)(s.xu,{paddingX:6,marginTop:3,children:[(0,I.jsx)(s.iz,{}),(0,I.jsx)(s.xu,{marginTop:4,children:(0,I.jsxs)(s.kC,{justifyContent:"between",alignItems:"center",children:[(0,I.jsx)(s.xv,{weight:"bold",lineClamp:2,children:r._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,I.jsx)(s.kC.Item,{flex:"none",children:(0,I.jsx)(s.iP,{onTap:t,rounding:"pill",onMouseEnter:()=>{i(0)},onMouseLeave:n,children:(0,I.jsx)(s.xu,{rounding:"pill",color:o?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,I.jsx)(s.xv,{align:"center",weight:"bold",children:r._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function eC({experiences:e,suggestion:t,index:i,focusedIndex:n,query:r,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,onInclusiveProductFilterClick:a}){switch(t.type){case"autocompleteupsell":return(0,I.jsx)(eg,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,I.jsx)(eI,{experiences:e,index:i,focusedIndex:n,onInclusiveProductFilterClick:a,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,query:r,suggestion:t});case"user":return(0,I.jsx)(eP,{index:i,focusedIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,suggestion:t})}return null}var eE=i(702664),eD=i(24286),eA=i(833122),ek=i(313398),eL=i(157987);function eZ({contextLogData:e,dominantColor:t,handleReport:i,height:r,id:o,image:l,isDarkRep:a=!1,isHovered:c,name:d,onMouseEnter:u,onMouseLeave:p,onTap:h,searchBoxRenderStopwatch:_,slotIndex:g,url:m,viewParameter:x,viewType:f,width:v}){let y,w;let j=(0,eA.Z)({contextLogData:e,impressionType:"Article",loggingId:o,slotIndex:g,viewParameter:x,viewType:f}),S=(0,b.Z)(),[P,T]=(0,n.useState)(!1),C=P||c,E=r||80;!v||v>=200?(y=3,w="300"):v>=150?(y=2,w="200"):(y=2,w="100");let D=()=>{u?u():T(!0)},A=()=>{p?p():T(!1)};return(0,I.jsx)(s.xu,{height:E,ref:j,width:v||"100%",children:(0,I.jsx)(s.zd,{wash:!a,rounding:4,children:(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:a?{__style:{backgroundColor:C?"var(--color-gray-roboflow-600)":"var(--color-gray-roboflow-700)"}}:{__style:C?ek.A.lightHoverOverlay:{}},children:(0,I.jsx)(s.st,{children:(0,I.jsxs)(s.Tg,{href:m,onBlur:A,onFocus:D,onMouseEnter:D,onMouseLeave:A,onTap:h,rounding:4,children:[(0,I.jsxs)(s.kC,{direction:"row",children:[(0,I.jsx)(s.zd,{height:E,wash:!0,width:E,children:(0,I.jsx)(s.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{null==_||_.stop()},role:"presentation",src:l})}),(0,I.jsx)(s.xu,{alignItems:"center",display:"flex",maxHeight:E,maxWidth:v?v-E:eD.yF-80,padding:4,children:(0,I.jsx)(s.xv,{color:a?"light":void 0,lineClamp:y,size:w,weight:"bold",children:d})})]}),i&&S.isAuth&&S.isEmployee?(0,I.jsx)(s.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,I.jsx)(eL.Z,{handleReport:i,imgSignature:l,isVisible:null!=C&&C})}):null]})})})})})}var eR=i(777610),ez=i(970588),eM=i(575794),eO=i(470792);let eB=({handleRemove:e,id:t,isHovered:i,label:n,onClick:r,onMouseEnter:o,onMouseLeave:l,removeA11yText:a,url:c})=>(0,I.jsx)(s.xu,{"aria-selected":i?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,I.jsx)(s.Tg,{accessibilityLabel:n,href:c,onMouseEnter:o,onMouseLeave:l,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),r())},rounding:"pill",children:(0,I.jsxs)(s.xu,{alignItems:"center",color:i?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,I.jsx)(s.xv,{align:"center",children:n}),(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,I.jsx)(s.hU,{accessibilityLabel:null!=a?a:"",icon:"cancel",iconColor:"darkGray",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),null==e||e(n)},size:"xs"})})]})})}),eF=({id:e,isHovered:t,onClick:i,onMouseEnter:r,onMouseLeave:o,showSeeMoreOverlay:a,suggestion:c,trackClick:d,url:u})=>{var p,h,_,g,m,x;let f=(0,l.ZP)();return(0,I.jsx)(s.xu,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,I.jsx)(s.Tg,{onMouseEnter:r,onMouseLeave:o,href:u||c.url,rounding:3,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d(),e.metaKey||e.ctrlKey||u||(e.preventDefault(),i())},children:(0,I.jsxs)(s.zd,{height:j.YO,rounding:3,wash:t,width:j.Gh,children:[(0,I.jsx)(s.Ee,{alt:c.label,fit:"cover",naturalHeight:null!==(p=null===(h=c.images["236x"])||void 0===h?void 0:h.height)&&void 0!==p?p:1,naturalWidth:null!==(_=null===(g=c.images["236x"])||void 0===g?void 0:g.width)&&void 0!==_?_:1,src:null!==(m=null===(x=c.images["236x"])||void 0===x?void 0:x.url)&&void 0!==m?m:""}),a&&(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:j.H2,height:j.YO,left:!0,position:"absolute",top:!0,width:j.Gh}),(0,I.jsx)(s.xu,{alignItems:"center",display:"flex",height:j.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:j.Gh,children:(0,I.jsx)(s.xv,{align:"center",color:"inverse",weight:"bold",children:f._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},eN=({componentType:e,focusedIndex:t,groupIndex:i,keyPrefix:n,onSuggestionClick:r,onSuggestionMouseEnter:l,onSuggestionMouseLeave:a,seeMoreUrl:c,suggestions:d,title:u})=>{let{logContextEvent:p}=(0,o.v)();return(0,I.jsxs)(s.kC,{direction:"column",gap:j.Lo,children:[(0,I.jsx)(s.kC,{width:"100%",children:(0,I.jsx)(eq,{title:u})}),(0,I.jsx)(s.xu,{display:"flex",wrap:!0,width:"100%",paddingX:j.r5,children:d.map((s,o)=>{let u=o===j.TD-1&&d.length===j.TD;return(0,I.jsx)(eF,{id:X(i,o),isHovered:t===o,onClick:()=>{r(s,o)},onMouseEnter:()=>{l(o)},onMouseLeave:()=>{a()},showSeeMoreOverlay:u,suggestion:s,trackClick:()=>{p({event_type:101,component:e,element:u?179:12374,view_type:j.Ie,view_parameter:103})},url:u?c:s.url},`${n}-${o}`)})})]})},eq=({title:e})=>(0,I.jsx)(s.xu,{alignItems:"center",display:"flex",marginStart:j.r5,children:(0,I.jsx)(s.xv,{lineClamp:1,weight:"bold",children:e})});function eH({focusedIndex:e,groupIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,suggestions:s}){let o=(0,l.ZP)();return(0,eR.Q)({component:13844,view_parameter:103,view_type:j.Ie}),(0,I.jsx)(eN,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,seeMoreUrl:"/me/pins/",suggestions:s,title:o._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function e$({containerWidth:e,focusedIndex:t,groupIndex:i,onSuggestionClick:n,onSuggestionMouseEnter:r,onSuggestionMouseLeave:o,suggestions:a}){let c=(0,l.ZP)(),d=(0,eE.useDispatch)(),u=async e=>{await (0,ez.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),d((0,eM.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},p=c._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),h=function({pillLabels:e,maxWidth:t}){let i=e.length;if(!t)return i;let n=0;for(let r=0;r<e.length;r+=1){let s=e[r].length*j.yY+j.Ag+j.Ub;if(s+n<t)n+=s;else{i=r;break}}return i}({pillLabels:a.map(e=>e.label),maxWidth:e});return(0,I.jsxs)(s.kC,{direction:"column",gap:j.Lo,children:[(0,I.jsx)(eq,{title:c._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,I.jsx)(s.xu,{display:"flex",overflow:"hidden",paddingX:j.r5,position:"relative",children:a.slice(0,h).map((e,l)=>(0,I.jsx)(s.xu,{"data-test-id":"recent-query",children:(0,I.jsx)(eB,{handleRemove:u,id:X(i,l),isHovered:t===l,label:e.label,onClick:()=>{n(e,l)},onMouseEnter:()=>{r(l)},onMouseLeave:()=>{o()},removeA11yText:p,url:K({suggestion:e,query:""})})},`${e.type}-${e.label}`))})]})}function eU({focusedIndex:e,groupIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,suggestions:s}){let o=(0,l.ZP)();return(0,eR.Q)({component:13843,view_parameter:103,view_type:j.Ie}),(0,I.jsx)(eN,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,seeMoreUrl:"/recently-viewed/",suggestions:s,title:o._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function eW({groupIndex:e,focusedIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,searchBoxRenderStopwatch:o,suggestions:l}){let a=j.Ie,{id:c,items:d,story_type:u,title:{format:p}}=l,h=d.map(({type:e,id:t})=>e+":"+t).join("|"),_=(0,eA.Z)({viewType:a,componentType:200,viewParameter:3467,loggingId:c,objectIdStr:c,contextLogData:{content_ids:h,story_id:c,story_type:u},impressionType:"Story",slotIndex:e});return(0,I.jsxs)(s.kC,{direction:"column",gap:j.Lo,children:[(0,I.jsx)(eq,{title:p}),(0,I.jsx)(s.xu,{display:"flex",marginBottom:5,paddingX:j.r5,ref:_,wrap:!0,children:d.slice(0,8).map((l,d)=>{let p=t===d;return(0,I.jsx)(s.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion-today-bubble",id:X(e,d),marginBottom:2,paddingX:1,role:"option",children:(0,I.jsx)(eO.Z,{bubble:l,height:j.Ny,isHovered:p,onClick:()=>{i(l,d)},onMouseEnter:()=>{n(d)},onMouseLeave:()=>{r()},searchBoxRenderStopwatch:o,slotIndex:d,storyId:c,storyType:u,viewParameter:3467,viewType:a,width:j.Ny})},`story--${e}-${d}`)})})]})}function eG({containerWidth:e,focusedIndex:t,groupIndex:i,onSuggestionClick:n,onSuggestionMouseEnter:r,onSuggestionMouseLeave:l,searchBoxRenderStopwatch:a,suggestions:c}){let{logContextEvent:d}=(0,o.v)(),u=j.Ie,{id:p,items:h,story_type:_,title:{format:g}}=c,m=h.map(({type:e,id:t})=>e+":"+t).join("|"),x=(0,eA.Z)({componentType:200,contextLogData:{content_ids:m,story_id:p,story_type:_},impressionType:"Story",loggingId:p,slotIndex:i,viewParameter:3467,viewType:u}),f=e=>64+8*e,v=3,y=(e-f(3))/v;for(;y>1.5*eD.yF;)v+=1,y=(e-f(v))/v;let b=y/2.6;return(0,I.jsxs)(s.kC,{direction:"column",gap:j.Lo,children:[(0,I.jsx)(eq,{title:g}),(0,I.jsx)(s.xu,{display:"flex",paddingX:j.r5,ref:x,direction:"row",wrap:!0,children:"shopping_spotlight"===_?h.map((e,t)=>(0,I.jsx)(eO.Z,{bubble:e,height:j.Ny,onClick:()=>{d({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:_}})},onMouseDown:({event:e})=>e.preventDefault(),slotIndex:t,viewParameter:3467,viewType:2,width:j.Ny},`ss-bubble-${t}`)):h.map((e,o)=>{var c,d;let g=t===o,{aux_fields:x,cover_images:f,dominant_colors:v,id:w,query:S,story_category:P,title:{format:T}}=e;return(0,I.jsx)(s.xu,{"aria-selected":g?"true":"false","data-test-id":"search-suggestion",id:X(i,o),marginBottom:2,marginEnd:2,role:"option",children:(0,I.jsx)(eZ,{contextLogData:{story_type:_,content_ids:m,grid_index:o,story_id:p},dominantColor:v[0],handleReport:()=>{(0,ep.Z)({query:"",report:S,suggestions:h.map(e=>e.query),type:2===e.story_category?j.KH.SEARCH_TRENDING_TEXT:j.KH.SEARCH_IDEAS_FOR_YOU})},height:b,id:w,image:f[0]&&((null===(c=f[0]["236x"])||void 0===c?void 0:c.url)||(null===(d=f[0]["474x"])||void 0===d?void 0:d.url))||"",isHovered:g,name:T,onTap:()=>{n(e,o)},onMouseEnter:()=>{r(o)},onMouseLeave:()=>{l()},searchBoxRenderStopwatch:a,slotIndex:o,url:(0,Y.Z)({query:T,referringSource:2===P?"trending":"autocomplete_bubble",bubbleId:null!=w?w:"",storyId:p,pinId:null==x?void 0:x.image_pin_id}),viewParameter:3467,viewType:u,width:y})},`story-${null!=P?P:""}-${i}-${w}`)})})]})}var eY=i(965671);let eV={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function eK({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:i,onMouseEnter:o,onMouseLeave:a,onSuggestionClick:c,onSuggestionHovered:p,onSyopCtaClick:h,query:_,searchBoxHeight:g,searchBoxRenderStopwatch:m,showSyopHeading:f,suggestionGroups:v,width:y}){let{checkExperiment:b}=(0,u.F)(),w=(0,n.useRef)(),j=(0,l.ZP)(),S=(0,r.useLocation)(),{experiencesMulti:P}=(0,ei.Z)(1000315),T=(0,eY.Z)(),C=!(0,d.C$)(S)&&b("dweb_unauth_slp_parity").anyEnabled;function E(){p(void 0)}return(0,I.jsx)(er.Z,{view:2,viewParameter:103,children:v.length>0?(0,I.jsx)(s.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:g}},overflow:"hidden",position:"absolute",width:y||"100%",id:"SuggestionsMenu",children:(0,I.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:o,onMouseLeave:a,style:{maxHeight:t,...eV.searchSuggestionsContainer},children:(0,I.jsxs)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},marginStart:T?2:void 0,overflow:"hidden",ref:w,width:"100%",children:[f&&(0,I.jsx)(s.xu,{marginTop:4,marginStart:8,marginBottom:4,children:(0,I.jsx)(s.X6,{size:"500",children:_.length>0?(0,en.nk)(j._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:_}):j._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),v.map((t,n)=>{var r,o,l,a;return t.items.length?(0,I.jsx)(s.kC,{direction:"column",gap:10,children:(0,I.jsx)(s.xu,{children:function(t,n,r){let s=Q(v),o=null==e?void 0:e-s[n],l=e=>{p(Q(v)[n]+e)};switch(t.type){case"recent_query":return(0,I.jsx)(e$,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,suggestions:t.items});case"recent_save":return(0,I.jsx)(eH,{focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,suggestions:t.items});case"recent_view":return(0,I.jsx)(eU,{focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,suggestions:t.items});case"story":return C&&"shopping_spotlight"===t.story_type?(0,I.jsx)(eW,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,searchBoxRenderStopwatch:m,suggestions:t}):(0,I.jsx)(eG,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,searchBoxRenderStopwatch:m,suggestions:t});case"blended_autocomplete":return(function(e){let t=e.slice(),i=t[0];for(let e of t){var n,r,s,o,l;if(null!==(n=e.modified_filter_eligibility)&&void 0!==n&&n.hair_pattern||null!==(r=e.modified_filter_eligibility)&&void 0!==r&&r.skin_tone){let n=(null===(s=e.modified_filter_eligibility.hair_pattern)||void 0===s?void 0:s.base_query)||(null===(o=e.modified_filter_eligibility.skin_tone)||void 0===o?void 0:o.base_query)||"",r=null===(l=e.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.eligible_filters,{rs:a}=(0,es.Z)({url:e.url}),c={query:n,rs:a},d=(0,x.Z)(c),u="enriched_autocomplete"===i.type&&i.image?1:0,p={eligibleHairPatternFilters:r,label:n,query:n,resultIndex:u,type:"inclusive_product_filter_query",url:d};t.splice(u,0,p),i=t[0];break}}return t})(t.items).map((e,t)=>(0,I.jsx)(eC,{experiences:P,focusedIndex:o,index:t,onInclusiveProductFilterClick:i,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,query:_,suggestion:e},`search-suggestion-${e.label||""}-${e.query||""}-${e.type}-${e.url||""}-${e.image||""}`));case"syop_cta":return(0,I.jsx)(eT,{focusedIndex:o,index:0,onSuggestionClick:h,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E})}return null}(t,n,null!==(l=null===(a=w.current)||void 0===a?void 0:a.getBoundingClientRect().width)&&void 0!==l?l:0)},`${_}-${t.type}-${null!==(r=null===(o=t.title)||void 0===o?void 0:o.format)&&void 0!==r?r:""}`)}):null})]})})}):(0,I.jsx)(s.xu,{})})}function eX({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:i,onMouseEnter:r,onMouseLeave:s,onSuggestionClick:o,onSuggestionGroupsUpdate:l,onSuggestionHovered:a,onSyopCtaClick:c,query:d,scope:u,searchBoxHeight:p,suggestionGroups:h,width:g}){let m=_(),x=(0,b.Z)(),f=x.isAuth&&u===y.lw.PINS_MINE;(0,A.Z)(()=>{f||null==m||m.start()});let{data:v}=(0,G.Z)({name:"SearchTabResource"}),{state:{recentSaves:w,recentViews:S}}=$(),P=function(){let e=(0,b.Z)(),{isLoaded:t,data:i}=(0,G.Z)(e.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:y.lw.PINS},noCache:!0}:null);return(0,n.useMemo)(()=>{let e=[];return t&&i&&(e=function({newRecentQueries:e}){return e.slice(0,j.P$).map(({label:e,query:t,url:i,type:n},r)=>({label:e,query:t,resultIndex:r,type:n,url:i}))}({newRecentQueries:i.items})),e},[t,i])}(),T=function({query:e,scope:t}){let i=(0,b.Z)(),r=(0,et.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});return(0,n.useMemo)(()=>{if(i.isAuth)return[{items:r||[],type:"blended_autocomplete"}];let e=(0,ee.Z)(r||[],e=>e.type),t=["query","user"].flatMap(t=>e[t]).filter(e=>!!e);return[{items:t,type:"blended_autocomplete"}]},[r,i])}({query:d,scope:u});return(0,n.useEffect)(()=>{let e=x.isAuth?T.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):T,t=v||[],i=x.isAuth?t.filter(e=>"shopping_spotlight"!==e.story_type):t;l(f?[{items:P,type:"recent_query"},{items:S,type:"recent_view"},{items:w,type:"recent_save"}]:d.length?e:[{items:P,type:"recent_query"},...i||[]])},[T,f,l,d,v,P,w,S,u,x]),(0,I.jsx)(eK,{focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:i,onMouseEnter:r,onMouseLeave:s,onSuggestionClick:o,onSuggestionHovered:a,onSyopCtaClick:c,query:d,searchBoxHeight:p,searchBoxRenderStopwatch:m,showSyopHeading:f,suggestionGroups:h,width:g})}function eQ({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:i=!1,widthType:p="md"}){let{logContextEvent:_}=(0,o.v)(),S=(0,b.Z)(),P=(0,l.ZP)(),T=(0,r.useHistory)(),{isRTL:E}=(0,g.B)(),{checkExperiment:D}=(0,u.F)(),k=(0,r.useLocation)(),L=(0,d.En)(k);!function(){let e=(0,b.Z)(),{isAuth:t,isLimitedLogin:i}=e,n=t&&!i;(0,G.Z)(t?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:y.lw.PINS},noCache:!0}:null),(0,G.Z)({name:"SearchTabResource"}),(0,G.Z)(n?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:j.a3.join(","),pin_preview_count:j.sA}}}:null)}();let{query:Z,scope:R}=(0,f.Z)(k),z=null!=Z?Z:"",[M,B]=(0,n.useState)(z),[F,N]=(0,n.useState)(),q=F&&F.query?F.query:M,H=function(){let e=(0,r.useLocation)(),t=(0,b.Z)(),i=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),n=t.isAuth&&e.pathname.startsWith("/recently-viewed");return i||n}(),$=null!=R?R:y.lw.PINS;H&&($=y.lw.PINS_MINE),$===y.lw.PINS_BUYABLE&&D("web_shop_inline_content_filter",{dangerouslySkipActivation:!0}).anyEnabled&&($=y.lw.PINS);let[U,W]=(0,n.useState)($),Y=S.isAuth&&U===y.lw.PINS_MINE,[V,ee]=(0,n.useState)([]),[et,ei]=(0,n.useState)(),[en,er]=(0,n.useState)(!1),[es,eo]=(0,n.useState)(!1),[el,ea]=(0,n.useState)(!1),[ec,ed]=(0,n.useState)(!1),[eu,ep]=(0,n.useState)(!1),[eh,e_]=(0,n.useState)(0);function eg(){ei(void 0),N(void 0)}let em=es||ec,{setAppFocusState:ex,toggleTypeaheadOverlay:ef}=(0,w.I)(),[ev,ey]=(0,n.useState)(t);(0,n.useEffect)(()=>{ey(t)},[t]);let[eb,ew]=(0,n.useState)(!1),[ej,eS]=(0,n.useState)();!function({setShouldHideGhostText:e,setSuggestionsMaxHeight:t}){function i(){var i;let n=(null===(i=document.getElementById("searchBoxContainer"))||void 0===i?void 0:i.offsetWidth)||0;e(n<=j.le),t(window.innerHeight-14-j.Fj)}(0,A.Z)(()=>(window.addEventListener("resize",i),i(),()=>{window.removeEventListener("resize",i)}))}({setShouldHideGhostText:ew,setSuggestionsMaxHeight:eS});let eI=S.isAuth&&"shrink"!==p&&(z||H),eP="auto".includes(p)?"8px":0;eI&&(eP="4px");let[eT,eC]=function({shouldHideGhostText:e,isSyop:t,inputFocused:i}){let n=(0,l.ZP)(),r=(0,b.Z)(),{isAuth:s}=r,o=(0,G.Z)(s?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),a=s?n._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):n._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),c="";if(!e&&o.isLoaded&&o.data&&o.data.length>0){let e=o.data[0].text;c=o.data[0].query,a=e}return t&&(a=i?n._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):n._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[a,c]}({shouldHideGhostText:eb,isSyop:Y,inputFocused:es}),eE=(0,n.useRef)();function eD(){let e=(0,v.Z)(M);if(!e.length)return;let t=(0,x.Z)({query:e,rs:"ac",scope:y.lw.PINS_MINE});T.push(t)}(0,n.useEffect)(()=>{eE.current!==em&&(em?a.Z.pause():a.Z.resume(),ex(!em),em||(eg(),B(z)),ef(em),eE.current=em)},[z,em,ex,ef]),(0,n.useEffect)(()=>{B(z),W($),eo(!1),ed(!1)},[z,$]);let eA=(e,t,i=!1)=>{let n=i?97:101,r={};switch(M&&(r.entered_query=M,r.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":_({event_type:n,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t,...r}});let s=K({suggestion:e,query:M,lastFocusTime:eh});Y&&"recent_query"===e.type&&(s=s.replace("pins","my_pins")),T.push(s);break;case"recent_save":T.push(e.url);break;case"enriched_autocomplete":case"board":case"user":_({event_type:n,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...r}}),T.push(e.url);break;case"explorearticle":26===e.story_category?_({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight",...r}}):_({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t,...r}}),i&&T.push(K({suggestion:e,query:""}));break;case"todayarticle":_({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...r}}),i&&T.push(K({suggestion:e,query:""}));break;case"syop_cta":eD()}eg(),eo(!1),ed(!1)},ek=()=>{if(q===z&&U===$)return;let e=(0,v.Z)(q);if(!e.length)return;let t=(0,x.Z)({query:e,rs:"typed",scope:U});T.push(t)};if(ev&&!es&&!z&&!em)return(0,I.jsx)(s.xu,{id:"searchBoxContainer",children:(0,I.jsx)(s.hU,{accessibilityLabel:P._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",onClick:()=>{eo(!0),ey(!1),e&&e(!1),i&&_({event_type:101,element:11809})},size:"lg",iconColor:"gray"})});let eL=function({suggestionsFocusIndex:e,suggestionGroups:t}){let i,n;let r=Q(t);if("number"==typeof e){for(let t=r.length-1;t>=0;t-=1)if(e>=r[t]){i=t,n=e-r[t];break}}return"number"==typeof i&&"number"==typeof n?X(i,n):""}({suggestionsFocusIndex:et,suggestionGroups:V}),eZ="shrink"===p?"80vw":void 0,eR=p&&Object.keys(j.ht).includes(p)&&"shrink"!==p?j.ht[p]:"auto",ez=(0,I.jsx)(h,{children:(0,I.jsx)(eX,{focusIndex:et,maxHeight:ej,onInclusiveProductFilterClick:(e,t,i)=>{let n={};M&&(n.entered_query=M),_({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...n}});let r=K({suggestion:e,query:M,lastFocusTime:eh,filterSelectedTerm:i});T.push(r)},onMouseEnter:()=>ed(!0),onMouseLeave:()=>ed(!1),onSuggestionClick:eA,onSuggestionGroupsUpdate:ee,onSuggestionHovered:e=>ei(e),onSyopCtaClick:eD,query:M,scope:U,searchBoxHeight:j.XI+4,suggestionGroups:V,width:eZ})});return(0,I.jsx)(s.xu,{flex:"grow",id:"searchBoxContainer",minWidth:eR,paddingX:2,children:(0,I.jsxs)(s.xu,{color:el?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:el?"#E1E1E1":void 0}},display:"flex",height:j.XI,rounding:6,children:[(0,I.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:E?`0 16px 0 ${eP}`:`0 ${eP} 0 16px`,...em?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{ea(!0)},onMouseLeave:()=>{ea(!1)},position:"relative",children:[!(q||es)&&(0,I.jsx)(s.xu,{flex:"none",marginEnd:2,children:(0,I.jsx)(s.JO,{accessibilityLabel:P._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),L&&(0,I.jsx)(O,{handleClearMode:()=>{q===z?T.push(`/search/pins/?q=${z}`):W(y.lw.PINS)},scope:U}),(0,I.jsx)(m.Z,{dataTestId:"search-box-input",focusOptionId:eL,isFocused:em,name:"searchBoxInput",onBlur:function(){eo(!1)},onChange:function(e){B(e),eg()},onFocus:function(){e_(Date.now()),_({event_type:101,component:43,element:227}),eo(!0)},onKeyDown:e=>{switch(e.keyCode){case c.Z.ENTER:{let t=J(V,et);em&&t&&e.preventDefault(),t&&en?(eA(t,t.resultIndex||0,!0),er(!1)):ek();break}case c.Z.ESCAPE:em&&e.preventDefault(),e.stopPropagation(),eo(!1),ed(!1);break;case c.Z.UP:em&&e.preventDefault();let[t,i]=function(e,t){let i;let n=e.map(e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce((e,t)=>e+t,0);i=null==t?n-1:0===t?void 0:t-1;let r=J(e,i);return[i,r]}(V,et);ei(t),er(!0),N(i);break;case c.Z.DOWN:{em&&e.preventDefault();let[t,i]=function(e,t){let i;let n=e.map(e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce((e,t)=>e+t,0);i=null==t?0:t===n-1?void 0:t+1;let r=J(e,i);return[i,r]}(V,et);ei(t),er(!0),N(i);break}case c.Z.TAB:eC&&!M&&em&&(e.preventDefault(),e.stopPropagation(),B(eC))}},onSearchTrigger:ek,placeholder:eT,value:q}),q||i&&eI||em?(0,I.jsx)(s.xu,{flex:"none",marginStart:3,children:(0,I.jsx)(s.xu,{"data-test-id":"search-cancel",children:(0,I.jsx)(s.hU,{accessibilityLabel:P._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:z?"cancel":"clear",iconColor:"darkGray",onClick:()=>{if(B(""),W(y.lw.PINS),eg(),S.isAuth&&z){let e=(0,x.Z)({query:"",rs:"remove"});T.push(e)}else i&&e&&e(!0)},size:z?"sm":"lg"})})}):null,em&&ez]}),eI?(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,I.jsx)(C,{currentlySelectedFilter:U,currentQuery:z,handleContentTypeFilterHover:()=>{i&&ep(eu)},handleScopeChange:function(e){W(e),eo(i&&!M),eg()}})]}):null]})})}function eJ(e){return(0,I.jsx)(U,{children:(0,I.jsx)(eQ,{...e})})}},149139:(e,t,i)=>{i.d(t,{Ag:()=>h,Fj:()=>d,Gh:()=>v,H2:()=>f,Ie:()=>b,KH:()=>y,Lo:()=>s,Ny:()=>g,P$:()=>u,TD:()=>m,Ub:()=>_,XI:()=>n,YO:()=>x,a3:()=>a,ht:()=>o,le:()=>c,r5:()=>r,sA:()=>l,yY:()=>p});let n=48,r=8,s=4,o={md:407,sm:332,auto:"auto"},l=7,a=["pin.description","pin.id","pin.images[236x]"],c=360,d=76,u=5,p=7.5,h=40,_=24,g=192,m=7,x=116,f={__style:{backgroundColor:"rgba(0,0,0, .4)"}},v=90,y={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},b=2},681557:(e,t,i)=>{i.d(t,{A:()=>l,N:()=>a});var n=i(667294),r=i(583592),s=i(785893);let{Provider:o,useHook:l}=(0,r.Z)("ModeIcon");function a({children:e,value:t={modeIcon:null}}){let[i,r]=(0,n.useState)(t),l=(0,n.useMemo)(()=>({searchContext:i,updateSearchContext:r}),[i,r]);return(0,s.jsx)(o,{value:l,children:e})}},946426:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(806681),s=i(785893);function o({colors:e,isSelected:t,onClick:i}){return(0,s.jsx)(r.q,{children:({hovered:r,onMouseEnter:o,onMouseLeave:l})=>(0,s.jsx)(n.kC,{alignItems:"center",height:64,justifyContent:"start",children:(0,s.jsx)(n.iP,{mouseCursor:"pointer",onMouseEnter:o,onMouseLeave:l,onTap:i,rounding:"pill",children:(0,s.jsx)(n.xu,{alignItems:"center",color:t?"primary":r?"tertiary":void 0,display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:(0,s.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:(0,s.jsx)(n.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:e.map((e,t)=>(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},`${e}-${t}`))})})})})})})}},618305:(e,t,i)=>{i.d(t,{W:()=>d,Z:()=>p});var n=i(667294),r=i(883119),s=i(388011),o=i(696508),l=i(536042),a=i(946426),c=i(785893);let d=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function p({currentlyAppliedFiltersParamTerm:e,filterTones:t=u,onClickApplyFilters:i,query:p,showHeaderText:h=!0}){let{logContextEvent:_}=(0,s.v)(),g=(0,l.ZP)(),m=(0,n.useRef)(null),x=(0,n.useRef)(null),f=t=>{var n;let r=e===t?"":t;_({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:r}}),null===(n=x.current)||void 0===n||n.complete(),i(r)},v=e?g._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):g._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(r.kC,{alignItems:h?"center":"start",direction:"column",justifyContent:"start",children:[h&&(0,c.jsx)(r.xu,{marginBottom:2,children:(0,c.jsx)(r.xv,{color:"default",overflow:"normal",weight:"bold",children:v})}),(0,c.jsx)(r.xu,{display:"flex",flex:"none",paddingX:1,ref:m,children:t.map(({term:t},i)=>(0,c.jsx)(r.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(a.Z,{colors:d[i],isSelected:e===t,onClick:()=>f(t)})},t))})]}),m&&(0,c.jsx)(o.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(x.current=e)},placementId:29})]})}},965671:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(245410),r=i(802071);function s(){let{checkExperiment:e}=(0,n.F)(),t=(0,r.Z)();return!!t.isPartner&&e("aid_exp_ia_navigation_update_search").anyEnabled}},578369:(e,t,i)=>{function n(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function r(e){return n("/admin/",e)}function s(e){return n("/admin/oauth/logout/",e)}function o(e){return n("/today/",e)}i.d(t,{HF:()=>r,Kn:()=>s,tG:()=>o})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/55918-4736fb558b5be46a.mjs.map